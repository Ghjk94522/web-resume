import{g as y,b as F,d as v,r as f,o as _,c as E,i as d,w as x,e as k,f as C,h as g,j as r,k as l,l as A,m as B,n as p,p as D,t as T}from"./app.ca348c53.js";import{u as w,i as M,a as R}from"./resume.e565a9de.js";import{_ as i}from"./monaco.d34c9b32.js";import{_ as V}from"./All.72c3ced1.js";import"./yamlWorker.591d481f.js";const b=async()=>{if(window.monaco)return{monaco:window.monaco};const{setDiagnosticsOptions:c}=await i(()=>import("./index.b2a6089b.js"),["assets/index.b2a6089b.js","assets/monaco.d34c9b32.js","assets/monaco.6a58294d.css","assets/yamlWorker.591d481f.js"]),e=await i(()=>import("./monaco.d34c9b32.js").then(function(t){return t.b}),["assets/monaco.d34c9b32.js","assets/monaco.6a58294d.css"]);return window.monaco=e,await Promise.all([(async()=>{const[{default:t},{default:s}]=await Promise.all([i(()=>import("./editor.worker.5f9a85f5.js"),[]),i(()=>import("./workaround-yaml.worker.1ea916ad.js"),[])]);window.MonacoEnvironment={getWorker(n,o){switch(o){case"editorWorkerService":return new t;case"yaml":return new s;default:throw new Error(`Unknown label ${o}`)}}}})()]),c({enableSchemaRequest:!0,hover:!0,completion:!0,validate:!0,format:!0,schemas:[{uri:"https://resume.elpsy.cn/schema/resume.schema.json",fileMatch:["*.yml","*.yaml"]}]}),y()&&await new Promise(t=>F(t)),{monaco:e}};const P=v({name:"MonacoEditor",setup(c){let e;const t=w(),s=f();async function n(){if(M){const{monaco:o}=await b();s.value&&!e&&(e=o.editor.create(s.value,{language:"yaml",theme:d.value?"vs-dark":"vs",wordWrap:"on",model:o.editor.createModel(t.resumeText,"yaml",o.Uri.parse("resume.yml")),value:t.resumeText}),self.addEventListener("resize",()=>{e.layout()}),t.setEditor(e),e.onDidChangeModelContent(a=>{t.setResume(e.getValue())})),x(d,a=>{o.editor.setTheme(a?"vs-dark":"vs")})}}return n(),(o,a)=>(_(),E("div",{id:"editor-container",ref_key:"container",ref:s},null,512))}});const I={class:"editor-page text-center"},S={class:"preview-container",grid:"~ cols-2 <sm:cols-1"},L={class:"resume-container resume shadow w-full"},O={class:"editor-container"},W=r("div",{m:"t-2",text:"sm gray-800 dark:gray"}," \u6CE8\u610F\uFF1A\u6B64\u5904\u4E3B\u8981\u4F5C\u793A\u4F8B\u4F53\u9A8C\u4E0E\u4E34\u65F6\u4FEE\u6539\u4F7F\u7528\u3002\u5982\u679C\u60A8\u60F3\u8981\u66F4\u597D\u7684\u7F16\u8F91\u4F53\u9A8C\uFF0C\u60A8\u53EF\u4EE5\u4F7F\u7528\u672C\u5730\u5F00\u53D1\u7684\u65B9\u5F0F\u3002 ",-1),$={class:"resume-btn m-2",href:"/resume",target:"_blank"},q=v({name:"editor",setup(c){const e=w(),{t}=k(),s=f(e.resumeText);async function n(){var u;const o=await R("/resume/suzumiya.resume.yml"),m=`# ${t("editor.name")}
`+o;(u=e.codeEditor)==null||u.setValue(m)}return C(async()=>{e.resumeText||await n()}),(o,a)=>{const m=V,u=P,h=g("client-only");return _(),E("div",I,[r("div",S,[r("div",L,[l(e).resumeJson?(_(),A(m,{key:0,class:"min-w-500px",resume:l(e).resumeJson},null,8,["resume"])):B("",!0)]),r("div",O,[p(h,null,{default:D(()=>[p(u,{text:s.value},null,8,["text"])]),_:1})])]),W,r("div",null,[r("button",{class:"resume-btn m-2",onClick:n}," \u91CD\u7F6E\u5185\u5BB9 "),r("a",$,T(l(t)("button.see_resume")),1)])])}}});export{q as default};
